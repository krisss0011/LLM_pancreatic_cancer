TopOC: Topological Deep Learning
for Ovarian and Breast Cancer Diagnosis
Saba Fatema1, Brighton Nuwagira1, Sayoni Chakraborty1,
Reyhan Gedik2, and Baris Coskunuzer1
1 U. Texas at Dallas, Dept. Math. Sciences, Richardson, TX 75080 USA
2 Harvard Medical School, MGH - Pathology Dept., Boston, MA 02114 USA
{saba.fatema,brighton.nuwagira,sayoni.chakraborty,
coskunuz}@utdallas.edu, rgedik@mgh.harvard.edu
Abstract. Microscopic examination of slides prepared from tissue samples is
the primary tool for detecting and classifying cancerous lesions, a process that
is time-consuming and requires the expertise of experienced pathologists. Recent
advances in deep learning methods hold significant potential to enhance medical
diagnostics and treatment planning by improving accuracy, reproducibility, and
speed, thereby reducing clinicians’ workloads and turnaround times. However,
the necessity for vast amounts of labeled data to train these models remains a
major obstacle to the development of effective clinical decision support systems.
In this paper, we propose the integration of topological deep learning methods to
enhance the accuracy and robustness of existing histopathological image analysis
models. Topological data analysis (TDA) offers a unique approach by extracting
essential information through the evaluation of topological patterns across differ-
ent color channels. While deep learning methods capture local information from
images, TDA features provide complementary global features. Our experiments
on publicly available histopathological datasets demonstrate that the inclusion of
topological features significantly improves the differentiation of tumor types in
ovarian and breast cancers.
Keywords: Ovarian Cancer Diagnosis · Breast Cancer Diagnosis · Histopathol-
ogy · Cubical Persistence · Topological Data Analysis
1
Introduction
Ovarian and breast cancers rank among the most common and lethal malignancies im-
pacting women globally. The cornerstone of detecting and classifying these cancers
is histopathology, which involves the microscopic examination of tissue samples and
cellular collections. This meticulous process is vital for accurate diagnosis and treat-
ment planning but is often time-consuming and heavily dependent on the expertise of
seasoned pathologists. As the demand for precise and rapid diagnostics increases, the
constraints of traditional methods become more evident, underscoring the need for ad-
vanced technologies to support and enhance pathological workflows.
Recent advancements in deep learning have shown great promise in the field of med-
ical imaging, offering the potential to revolutionize diagnostics by providing improved
accuracy, reproducibility, and efficiency. Deep learning algorithms excel at identifying
arXiv:2410.09818v1  [cs.CV]  13 Oct 2024
2
S. Fatema et al.
complex patterns within images, making them well-suited for the detailed analysis re-
quired in histopathology. However, the effectiveness of these models is often hindered
by the substantial requirement for large, labeled datasets, which can be difficult and
costly to obtain.
To address these challenges, we explore the integration of topological data analysis
(TDA) tools with deep learning methods for histopathological image analysis. TDA
provides a novel approach by focusing on the extraction and evaluation of topological
patterns within images, capturing global features that complement the local information
typically identified by deep learning algorithms. This synergy between local and global
feature extraction can enhance the robustness and accuracy of cancer detection models.
In this paper, we present a method that incorporates topological deep learning tech-
niques into the analysis of histopathological images. We demonstrate the effectiveness
of this approach using publicly available benchmark datasets for ovarian and breast can-
cer, showing that our method significantly improves the differentiation of tumor types.
Our results suggest that the integration of TDA with deep learning not only enhances
model performance but also has the potential to streamline diagnostic workflows, ulti-
mately benefiting both clinicians and patients.
Our contributions can be summarized as follows:
⋄We introduce two robust topological machine learning models for the analysis of
histopathological images.
⋄Using cubical persistence, we extract unique topological fingerprints by examining
the evolution of topological patterns in the images across each color channel.
⋄Our first model, TopOC-1, applies standard machine learning models to topological
vectors, making it straightforward, interpretable, and computationally feasible without
the need for data augmentation.
⋄Our second model, TopOC-CNN, integrates topological features with existing pre-
trained models. We observe consistent performance improvements with the inclusion
of these topological features.
⋄Both models deliver outstanding performance on ovarian and breast cancer histopatho-
logical image datasets, surpassing state-of-the-art models.
2
Related Work
2.1
Machine Learning Methods for Ovarian and Breast Cancer Diagnosis
Deep learning (DL) techniques show significant potential in enhancing ovarian cancer
diagnosis through histopathological image analysis, identifying malignant patterns, and
aiding clinicians in decision-making [32]. [15] presents DL model for ovarian carci-
noma histotype classification comparable to expert pathologists. Various CNN models
like YOLO, DenseNet, GoogleNet(V3), ResNet, etc., have demonstrated competitive
accuracy with medical professionals using ultrasound images [42,27].
A hybrid DL model using multi-modal data (gene and histopathology images) is
proposed by [16] to address the limitations of single-modal approaches in representing
ovarian cancer characteristics. An approach for better ovarian cancer risk stratification
by integrating histopathological, radiologic, and clinicogenomic data is demonstrated
TopOC: Topological Deep Learning for Ovarian and Breast Cancer Diagnosis
3
in [6]. A review in [7] assesses AI in ovarian cancer pathology, identifies clinical gaps,
and recommends improvements for future adoption.
DL methods are also employed in various recent studies to detect breast cancer. In
[22], authors introduce a model for detecting breast cancer in mammograms of vary-
ing densities, using low-variance elimination, univariate selection, and recursive feature
elimination as feature selection modules. [44] proposed a multimodal machine learning
model for breast cancer detection that combines mammograms and ultrasound data. For
a thorough review of the breast cancer histopathological image analysis methods, see
[45,10], where the authors review the recent models based on artificial neural networks,
categorizing them into classical and deep neural network approaches.
2.2
TDA in Medical Image Analysis
Persistent homology (PH) has been highly effective for pattern recognition in image and
shape analysis over the past two decades. In medical image analysis, PH has produced
powerful results in cell development [23], tumor detection [13,40], histopathology [28],
brain functionality analysis [9], fMRI data [30], and genomic data [29]. For a thorough
review of TDA methods in biomedicine, see the excellent survey [34]. For a collection
of TDA applications in various domains, see the TDA Applications Library [17,18].
Recently, there has been a surge of interest in topological deep learning within the
machine learning community, showing great potential to augment existing deep learn-
ing methodologies [26,46]. The effective utilization of topological features has notably
enhanced CNN models, particularly in tasks such as image segmentation [20,33,39].
Moreover, there is growing recognition of the pivotal role of topological features in
diagnostic tasks across various medical domains [35,43]. To our knowledge, our work
presents the first application of TDA methods for the detection of ovarian cancer.
3
Methodology
Our methodology consists of two primary steps. First, we extract the topological feature
vectors from the images. Then, we apply these topological features directly to machine
learning models, resulting in a fast and interpretable model called TopOC-1. Next, we
integrate these vectors with existing deep learning models for cancer diagnosis, result-
ing in TopOC-CNN.
3.1
Topological Vectors for Images
Persistent homology (PH) serves as a robust mathematical tool within topological data
analysis (TDA) for exploring the intricate shape and structure inherent in complex
datasets. Its fundamental concept involves systematically examining the development
of various hidden patterns within the data at different resolutions [11]. PH demonstrates
remarkable effectiveness in extracting features from diverse data formats such as point
clouds and networks. However, our paper focuses exclusively on its application in im-
age analysis, specifically emphasizing cubical persistence, which is a specific version
of PH. While we aim to describe the construction of PH in accessible terms for non-
specialists, those seeking deeper insights can refer to the comprehensive textbook [14].
Essentially, PH can be summarized as a three-step procedure as follows.
4
S. Fatema et al.
4
3
1
5
4
4
3
1
5
4
4
3
1
5
4
4
3
1
5
4
4
3
1
5
4
4
3
1
5
4
1
2
5
3
5
1
2
5
3
5
1
2
5
3
5
1
2
5
3
5
1
2
5
3
5
1
2
5
3
5
1
5
4
1
3
1
5
4
1
3
1
5
4
1
3
1
5
4
1
3
1
5
4
1
3
1
5
4
1
3
3
4
2
4
2
3
4
2
4
2
3
4
2
4
2
3
4
2
4
2
3
4
2
4
2
3
4
2
4
2
2
2
1
1
3
2
2
1
1
3
2
2
1
1
3
2
2
1
1
3
2
2
1
1
3
2
2
1
1
3
X
X 1
X 2
X 3
X 4
X 5
Fig. 1: For the 5 × 5 image X with the given pixel values, the sublevel filtration is the
sequence of binary images X1 ⊂X2 ⊂X3 ⊂X4 ⊂X5.
1. Filtration: Inducing a sequence of nested topological spaces from the data.
2. Persistence Diagrams: Recording the evolution of topological changes within this
sequence.
3. Vectorization: Converting these persistence diagrams into vectors to be utilized in
machine learning models.
Step 1 - Constructing Filtrations. Since PH essentially functions as a mechanism for
monitoring the progression of topological characteristics within a sequence of simpli-
cial complexes, constructing this sequence stands out as a crucial step. In image anal-
ysis, the common approach is to generate a nested sequence of binary images, also
known as cubical complexes. To achieve this from a given color (or grayscale) image
X (with dimensions r × s), one needs to select a specific color channel (e.g., red, blue,
green, or grayscale). The color values γij of individual pixels ∆ij ⊂X are then uti-
lized. Specifically, for a sequence of color values (0 = t1 < t2 < · · · < tN = 255),
a nested sequence of binary images X1 ⊂X2 ⊂· · · ⊂XN is obtained, where Xn =
{∆ij ⊂X | γij ≤tn} (See Figure 1).
In particular, this involves starting with a blank r × s image and progressively acti-
vating (coloring black) pixels as their grayscale values reach the specified threshold tn.
This process, known as sublevel filtration, is conducted on X relative to a designated
function (in this instance, grayscale). Alternatively, one can activate pixels in descend-
ing order, referred to as superlevel filtration. In other words, let Yn = {∆ij ⊂X |
γij ≥sn} for (255 = s1 > s2 > · · · > sM = 0), and Y1 ⊂Y2 ⊂· · · ⊂YM is called
superlevel filtration.
Step 2 - Persistence Diagrams. PH traces the development of topological characteris-
tics across the filtration sequence {Xn} and presents it through a persistence diagram
(PD). Specifically, if a topological feature σ emerges in Xm and disappears in Xn with
1 ≤m < n ≤N, the thresholds tm and tn are denoted as the birth time bσ and death
time dσ of σ, respectively (bσ = tm and dσ = tn). Therefore, PD contains all such 2-
tuples PDk(X) = {(bσ, dσ)} where k represents the dimension of the topological fea-
tures. The interval dσ −bσ is termed as the lifespan of σ. Formally, the kth persistence
diagram can be defined as PDk(X) = {(bσ, dσ) | σ ∈Hk(Xn) for bσ ≤tn < dσ},
where Hk(Xn) denotes the kth homology group of the cubical complex Xn. Thus,
PDk(X) contains 2-tuples indicating the birth and death times of k-dimensional voids
{σ} (such as connected components, holes, and cavities) in the filtration sequence
{Xn}. For instance, for X in Figure 1, PD0(X) = {(1, ∞), (1, 2), (1, 2), (1, 3)} repre-
sents the connected components, while PD1(X) = {(2, 4), (3, 5), (4, 5)} illustrates the
holes in the corresponding binary images in Figure 1.
TopOC: Topological Deep Learning for Ovarian and Breast Cancer Diagnosis
5
250 
200 
150 
.c • 
100 
50 
Input Image 
100 
200 
Birth 
Persistence Diagram 
• 
8000 
6000 
4000 
• 
2000 
0 
50 
100 
150 
200 
250 
Vectorization 
1111 
,. .. - ' 
I 
' 
I 
I 
• ' 
I 
' -.. ,..
..... --- .... 
I 
.... -- - ..... 
ML Model 
Predictions 
Fig. 2: TopOC-1 Model. We first generate persistence diagrams for any input image,
utilizing grayscale values. Next, we derive our topological feature vectors, represented
as Betti functions. These vectors are then inputted into a simple ML classifier to produce
classification results.
Step 3 - Vectorization. Persistence Diagrams (PDs), which consist of collections of 2-
tuples, are not practical for use with ML tools. Instead, a common approach is to convert
PD information into a vector or function, a process known as vectorization [2].
One commonly used function for this purpose is the Betti function, which tracks the
number of alive topological features at each threshold. Specifically, the Betti function
is a step function where β0(tn) represents the count of connected components in the
binary image Xn, and β1(tn) indicates the number of holes (loops) in Xn. In the context
of ML, Betti functions are typically represented as vectors −→
βk of size N with entries
βk(tn) for 1 ≤n ≤N, defined as −→
βk(X) = [βk(t1) βk(t2) . . . βk(tN)].
For example, in Figure 1, we can observe −→
β0(X) = [4 2 1 1 1], indicating the count
of connected components in the binary images {Xi}, while −→
β1(X) = [0 1 2 2 0] repre-
sents the counts of holes in {Xi}. Notably, β0(1) = 4 signifies the count of components
in X1, and β1(3) = 2 denotes the count of holes (loops) in X3.
There exist various other methods to convert PDs into a vector, such as persistence
images [1], persistence landscapes [8], silhouettes [12], and kernel methods [2]. How-
ever, in this paper, we primarily utilize Betti functions due to their computational effi-
ciency and ease of interpretation.
3.2
TopOC Models
Once we have obtained the topological vectors, the next step involves applying ML
tools to analyze the effectiveness of these features. Essentially, each medical image is
represented as a 200-dimensional vector (300-dimensional for 3D images), signifying
its embedding in a latent space. The classification task treats these embeddings as a
point cloud and aims to identify distinct clusters corresponding to different classes.
To evaluate the effectiveness of these topological vectors, we employed two different
Topological Ovarian Cancer (TopOC) models.
TopOC-1 model. In our basic model, the TopOC-1 model (Figure 2), we directly used
ML classifier on topological embeddings of images to test the performance of topolog-
ical vectors. The main idea is to use the procedure described in Section 3.1, for each
image, we define a sublevel filtration with 50 thresholds to span [0, 255] color interval
for each color. For an RGB image, we use Red, Green, Blue, and Grayscale (average
of RGB color values) color values for each pixel, and we obtain four different sublevel
6
S. Fatema et al.
CNN MODEL
FULLY CONNECTED LAYERS
MLP
TDA VECTORS
(a)
(b)
Fig. 3: TopOC-CNN Model. In this model, we integrate topological features of images with
convolutional vectors from a CNN backbone, followed by a fully connected layer. For the predic-
tion head, we concatenate (a) a 128-dimensional CNN vector and (b) a topological vector, with
dimension options of 256, 128, 64, or 0 (Vanilla-CNN).
filtrations one for each color. Next, we obtain the corresponding persistence diagrams,
and by applying Betti vectorization, we obtain topological vectors for each image. Each
color channel induces 50 dimensional β0(X) and β1(X). By concatenating these vec-
tors, we obtain a 400-dimensional vector for each image. To eliminate correlations,
we use dimension reduction by using feature selection methods. In our first model,
TopOC-1, we simply apply standard ML classifiers on these vectors. Next, in our more
sophisticated method, we integrate these vectors with deep learning methods.
TopOC-CNN model. In our second model, TopOC-CNN (Figure 3), we integrated topo-
logical features with pre-trained CNN models. This integration is based on the concept
that topological features capture global patterns within the image, while convolutional
vectors focus on more localized aspects. Combining these two distinct sets of features
is expected to enhance the model’s overall performance. The TopOC-CNN model is
meticulously crafted by selecting a base model from a range of state-of-the-art CNN
models, including EfficientNetB0, DenseNet121, and VGG16. These models were cho-
sen for their robust feature extraction capabilities, leveraging pre-trained weights from
extensive datasets like ImageNet. The layers of these pre-trained CNN models remain
frozen, and their capabilities are augmented by adding extra layers to enhance their
ability to capture intricate patterns and features. The CNN component of our model
starts with an input layer that accepts images with a shape of (224, 224, 3). This input is
processed by the base model, whose output is then fed into an additional convolutional
layer containing 256 filters, each with a 3x3 kernel size and ReLU activation function.
Subsequently, a max pooling layer with a 2x2 pool size is applied to downsample the
feature maps. These feature maps are then flattened into a single vector, which is further
refined by a dense layer with 128 neurons and a ReLU activation function. Simultane-
ously, a Multilayer Perceptron (MLP) is defined with three dense layers, each utilizing
the Rectified Linear Unit (ReLU) activation function. The MLP layers consist of 256
neurons each, with the number of neurons in the last layer varying for different settings:
TopOC: Topological Deep Learning for Ovarian and Breast Cancer Diagnosis
7
256, 128, 64, and 0 neurons. The outputs of both the augmented CNN layers (128 neu-
rons) and the MLP (256, 128, 64, or 0 neurons) are concatenated and passed through
additional dense layers (256 neurons, 128 neurons, 128 neurons), all with ReLU acti-
vation functions, ultimately culminating in the output layer.
4
Experiments
4.1
Experimental Setup
Datasets.
To validate the performance of our models, we used two publicly available
histopathology datasets. The first dataset, UBC-OCEAN, was provided in the UBC
ovarian cancer subtype classification and outlier detection (UBC-OCEAN) challenge
hosted by the University of British Columbia [3,15]. The dataset is accessible at the
Kaggle link [4] and provides 34K tiles of 224×224 size obtained from 975 whole slide
images (WSI) and tissue microarrays (TMA). The task is to classify five subtypes of
ovarian cancer, namely clear cell ovarian carcinoma (CC), endometrioid (EC), high-
grade serous carcinoma (HGSC), low-grade serous carcinoma (LGSC), and mucinous
carcinoma (MC). We used the pre-defined training and test split (91:9) provided by the
challenge, i.e., 31, 203 training and 3, 082 test images. Our second dataset, BREAKHIS,
is the Breast Cancer Histopathology dataset [36], consisting of 7909 samples with two
classes, Benign and Malignant. These samples are provided at 700×460 size with dif-
ferent magnification factors such as 40x, 100x, 200x, and 400x [38,37]. For this dataset,
we used a commonly employed 70:30 training-test split [5].
Topological Vectors.
As described in Section 3.1, for each image, by employing a
filtration for each color channel (R, G, B, and G), we obtain four filtration. We em-
ployed 50-thresholds, and each color channel, produces 50-dimensional −→
β0 and −→
β1 vec-
tors (See Figure 4). Next, by concatenating them, we got a 400-dimensional topological
vector for each image.
In Appendix A, we give further experimental details, including Model Hyperparam-
eters, Extra Performance Metrics, and Computational Complexity and Runtime.
4.2
Results
Table 1:
TopOC-1. Performances of our
TopOC-1 model with different numbers of
topological features.
UBC-OCEAN
BREAKHIS-40x
Models
B. Acc.
Acc.
AUC
Acc.
Sen.
Spec.
50 Features
61.14
67.32 89.07
87.81 94.51
74.24
100 Features
63.45
69.92 90.94
89.32 96.51
74.75
200 Features
66.13
72.45 91.74
90.82 97.76
76.77
400 Features
65.31
71.51
91.75
89.98 97.76
74.24
UBC-OCEAN is a recent challenge that
concluded a few months ago, offering
a $50K prize. The performance met-
ric was balanced accuracy, and the win-
ning entry achieved 66% balanced ac-
curacy for this five-class classification
task [4]. Both of our models surpassed
this benchmark. TopOC-1, using 200 fea-
tures, achieved 66.13% balanced accu-
racy as shown in Table 1. Our TopOC-
CNN model, employing a DenseNet121 backbone and 128-dimensional topological
vectors, reached 67.15% balanced accuracy. Notably, we utilized only pre-trained mod-
els without any data augmentation, whereas many competitors relied on customized
CNN models with extensive data augmentation and other optimizations.
8
S. Fatema et al.
Table 2: Balanced Accuracy, Accuracy, and AUC performances for TopOC-CNN models with
different backbones and varying topological MLP final output layer settings (64, 128, 256) on the
multiclass classification of UBC-OCEAN dataset.
DenseNet121
EfficientNetB0
VGG16
Models
B. Acc.
Acc.
AUC
B. Acc.
Acc.
AUC
B. Acc.
Acc.
AUC
Vanilla-CNN
65.10
69.08
89.42
56.08
63.82
87.04
56.45
61.55
84.02
CNN+64Top
64.62
68.59
89.37
59.85
64.34
86.71
56.50
61.26
83.53
CNN+128Top
67.15
69.34
92.08
59.96
64.05
86.48
55.00
62.20
84.33
CNN+256Top
66.36
69.99
89.62
62.67
67.98
89.14
57.63
63.24
84.24
Improvement
2.05
0.91
2.66
6.59
4.16
2.10
1.18
1.69
0.31
Table 3: Performance comparison of Vanilla-CNN and TopOC-CNN models with different back-
bones for BREAKHIS dataset.
DenseNet121
EfficientNetB0
VGG16
Mag.
Models
Acc
Sens.
Spec
Acc
Sens
Spec
Acc
Sens
Spec
40x
Vanilla-CNN
92.99
91.72
88.30
84.81
84.46
83.51
88.81
87.38
83.51
CNN+256Top
94.82
94.06
92.02
93.16
91.12
85.64
90.48
89.31
86.17
Improvement
1.83
2.34
3.72
8.35
6.66
2.13
1.67
1.93
2.66
100x
Vanilla-CNN
90.40
88.18
82.38
89.12
85.68
76.68
87.84
84.18
74.61
CNN+256Top
92.48
90.98
87.05
92.16
91.03
88.08
92.32
90.57
86.01
Improvement
2.08
2.80
4.67
3.04
5.35
11.4
4.48
6.39
11.4
200x
Vanilla-CNN
91.72
90.17
86.10
87.58
84.08
74.86
87.58
85.40
79.68
CNN+256Top
93.71
92.79
90.37
93.71
91.76
86.63
90.07
88.23
83.42
Improvement
1.99
2.62
4.27
6.13
7.68
11.77
2.49
2.83
3.74
400x
Vanilla-CNN
91.03
88.16
80.11
85.35
81.74
71.59
85.53
81.88
71.59
CNN+256Top
93.22
92.17
89.20
90.29
87.18
78.41
87.73
84.84
76.70
Improvement
2.19
4.01
9.09
4.94
5.44
6.82
2.20
2.96
5.11
In Table 2, we present the TopOC-CNN results for three backbones (DenseNet121,
EfficientNetB0, VGG16) and four variations of each. Specifically, in Figure 3, the CNN
vector (a) is fixed at 128-dimension across all models, while the topological vector (b)
(MLP output) varies among 0 (Vanilla-CNN), 64, 128, and 256-dimension. Our find-
ings indicate that incorporating topological vectors consistently enhances CNN perfor-
mance, up to 6.59% improvements in balanced accuracy.
For the BREAKHIS dataset, both of our models also deliver highly competitive
results in breast cancer diagnosis (Table 4). Similarly, our topological vectors enhance
CNN model performance by up to 8.35% in accuracy (Table 3). Additional performance
metrics for our models are provided in Table 5.
We provide our model’s Visualization and Interpretability discussion in Appendix B.
Table 4: Performance comparison of TopOC model with deep learning models on binary classi-
fication of BREAKHIS dataset.
40x
100x
200x
400x
Method
Acc.
Sens.
Spec.
Acc.
Sens.
Spec.
Acc.
Sens.
Spec.
Acc.
Sens.
Spec.
AlexNet [38]
81.52
75.64
87.40
81.28
78.16
84.40
83.54
79.16
87.91
81.10
76.28
85.90
BkNet [41]
85.61
84.42
86.80
86.23
87.19
85.26
85.37
80.01
90.74
84.43
80.00
88.87
CapsNet [31]
86.95
86.29
87.61
89.13
88.30
89.96
88.75
86.22
91.28
88.04
87.56
88.51
BkCapsNet [41]
92.71
92.15
93.27
94.52
95.16
93.87
94.03
94.31
93.75
93.54
94.06
93.03
TopOC-1
90.82
97.76
76.77
91.68
96.00
82.50
91.05
96.53
80.00
88.64
96.02
75.25
TopOC-CNN
94.82
94.06
92.02
92.48
91.03
88.08
93.71
92.79
90.37
93.22
92.17
89.20
TopOC: Topological Deep Learning for Ovarian and Breast Cancer Diagnosis
9
5
Conclusion
In conclusion, our study underscores the substantial promise of integrating topological
machine learning methods with existing deep learning techniques for histopathologi-
cal image analysis in ovarian and breast cancers. The developed models, TopOC-1 and
TopOC-CNN, exhibit enhanced accuracy and efficiency in cancer detection by incor-
porating topological features into the deep learning framework. Moving along, we aim
to focus on expanding model validation across diverse datasets and cancer types, re-
fining topological feature extraction techniques, and incorporating these methods into
real-time clinical diagnostic tools. Addressing the challenge of obtaining large labeled
datasets through collaboration and advanced learning techniques will further optimize
these models, ultimately advancing more accurate and accessible cancer diagnostics.
Acknowledgments. This work was partially supported by the National Science Foundation un-
der grants DMS-2202584, 2229417, and DMS-2220613 and by Simons Foundation under grant #
579977. The authors acknowledge the Texas Advanced Computing Center (TACC) at UT Austin
for computational resources which contributed to the research results reported within this paper.
References
1. Adams, H., et al.: Persistence images: A stable vector representation of persistent homology.
Journal of Machine Learning Research 18(1), 218–252 (2017) 5
2. Ali, D., et al.: A survey of vectorization methods in topological data analysis. IEEE Trans-
actions on Pattern Analysis and Machine Intelligence (2023) 5
3. Asadi-Aghbolaghi, M., et al.: Machine learning-driven histotype diagnosis of ovarian carci-
noma: Insights from the ocean ai challenge. medRxiv pp. 2024–04 (2024) 7
4. Bashashati, A., et al.: UBC ovarian cancer subtype classification and outlier detection (UBC-
OCEAN) (2023), https://kaggle.com/competitions/UBC-OCEAN 7
5. Benhammou, Y., Achchab, B., Herrera, F., Tabik, S.: Breakhis based breast cancer automatic
diagnosis using deep learning. Neurocomputing 375, 9–24 (2020) 7
6. Boehm, K.M., et al.: Multimodal data integration using machine learning improves risk strat-
ification of high-grade serous ovarian cancer. Nature cancer 3(6), 723–733 (2022) 3
7. Breen, J., et al.: Artificial intelligence in ovarian cancer histopathology: a systematic review.
NPJ Precision Oncology 7(1), 83 (2023) 3
8. Bubenik, P., Dłotko, P.: A persistence landscapes toolbox for topological statistics. Journal
of Symbolic Computation 78, 91–114 (2017) 5
9. Caputi, L., Pidnebesna, A., Hlinka, J.: Promises and pitfalls of topological data analysis for
brain connectivity analysis. NeuroImage 238, 118245 (2021) 3
10. Chan, R.C., To, C.K.C., Cheng, K.C.T., Yoshikazu, T., Yan, L.L.A., Tse, G.M.: Artificial
intelligence in breast cancer histopathology. Histopathology 82(1), 198–210 (2023) 3
11. Chazal, F., Michel, B.: An introduction to topological data analysis: fundamental and practi-
cal aspects for data scientists. Frontiers in Artificial Intelligence 4 (2021) 3
12. Chazal, F., Fasy, B.T., Lecci, F., Rinaldo, A., Wasserman, L.: Stochastic convergence of
persistence landscapes and silhouettes. In: SoCG. pp. 474–483 (2014) 5
13. Crawford, L., Monod, A., Chen, A.X., Mukherjee, S., Rabadán, R.: Predicting clinical out-
comes in glioblastoma: an application of topological and functional data analysis. Journal of
the American Statistical Association 115(531), 1139–1150 (2020) 3
10
S. Fatema et al.
14. Dey, T.K., Wang, Y.: Computational topology for data analysis. Cambridge University Press
(2022) 3
15. Farahani, H., et al.: Deep learning-based histotype diagnosis of ovarian carcinoma whole-
slide pathology images. Modern Pathology 35(12), 1983–1990 (2022) 2, 7
16. Ghoniem, R.M., Algarni, A.D., Refky, B., Ewees, A.A.: Multi-modal evolutionary deep
learning model for ovarian cancer diagnosis. Symmetry 13(4), 643 (2021) 2
17. Giunti, B.: TDA applications library (2022), https://www.zotero.org/groups/
2425412/tda-applications/library 3
18. Giunti, B., Lazovskis, J., Rieck, B.: DONUT: Database of Original & Non-Theoretical Uses
of Topology (2022), https://donut.topology.rocks 3
19. Grandini, M., Bagli, E., Visani, G.: Metrics for multi-class classification: an overview. arXiv
preprint arXiv:2008.05756 (2020) 1
20. Gupta, S., Chen, C., et al.: Learning topological interactions for multi-class medical image
segmentation. In: ECCV. pp. 701–718. Springer (2022) 3
21. Hicks, S.A., et al.: On evaluation metrics for medical applications of artificial intelligence.
Scientific reports 12(1), 5979 (2022) 1
22. Khalid, A., et al.: Breast cancer detection and prevention using machine learning. Diagnostics
13(19), 3113 (2023) 3
23. McGuirl, M.R., Volkening, A., Sandstede, B.: Topological data analysis of zebrafish patterns.
Proceedings of the National Academy of Sciences 117(10), 5113–5124 (2020) 3
24. Milosavljevi´c, N., Morozov, D., Skraba, P.: Zigzag persistent homology in matrix multipli-
cation time. In: SoCG. pp. 216–225 (2011) 1
25. Otter, N., Porter, M.A., Tillmann, U., Grindrod, P., Harrington, H.A.: A roadmap for the
computation of persistent homology. EPJ Data Science 6, 1–38 (2017) 1
26. Papamarkou, T., Birdal, T., Bronstein, M., Carlsson, G., et al.: Position paper: Challenges
and opportunities in topological deep learning. arXiv preprint arXiv:2402.08871 (2024) 3
27. Pham, T.L., Le, V.H.: Ovarian tumors detection and classification from ultrasound images
based on yolov8. Journal of Advances in Information Technology 15(2) (2024) 2
28. Qaiser, T., et al.: Fast and accurate tumor segmentation of histology images using persistent
homology and deep convolutional features. Medical image analysis 55, 1–14 (2019) 3
29. Rabadán, R., Blumberg, A.J.: Topological data analysis for genomics and evolution: topol-
ogy in biology. Cambridge University Press (2019) 3
30. Rieck, B., et al.: Uncovering the topology of time-varying fmri data using cubical persis-
tence. NeurIPS 33, 6900–6912 (2020) 3
31. Sabour, S., Frosst, N., Hinton, G.E.: Dynamic routing between capsules. Advances in neural
information processing systems 30 (2017) 8
32. Sadeghi, M.H., et al.: Deep learning in ovarian cancer diagnosis: a comprehensive review of
various imaging modalities. Polish Journal of Radiology 89, e30 (2024) 2
33. Santhirasekaram, A., Winkler, M., Rockall, A., Glocker, B.: Topology preserving composi-
tionality for robust medical image segmentation. In: CVPR. pp. 543–552 (2023) 3
34. Skaf, Y., Laubenbacher, R.: Topological data analysis in biomedicine: A review. Journal of
Biomedical Informatics p. 104082 (2022) 3
35. Somasundaram, E., et al.: Persistent homology of tumor ct scans is associated with survival
in lung cancer. Medical physics 48(11), 7043–7051 (2021) 3
36. Spanhol, F., Oliveira, L.S., Petitjean, C., Heutte, L.: Breast cancer histopathologi-
cal database (breakhis) (2024), https://web.inf.ufpr.br/vri/databases/
breast-cancer-histopathological-database-breakhis/ 7
37. Spanhol, F.A., Oliveira, L.S., et al.: Deep features for breast cancer histopathological image
classification. In: 2017 IEEE SMC. pp. 1868–1873. IEEE (2017) 7
38. Spanhol, F.A., Oliveira, L.S., Petitjean, C., Heutte, L.: Breast cancer histopathological image
classification using CNNs. In: IJCNN. pp. 2560–2567. IEEE (2016) 7, 8
TopOC: Topological Deep Learning for Ovarian and Breast Cancer Diagnosis
11
39. Stucki, N., Paetzold, J.C., Shit, S., Menze, B., Bauer, U.: Topologically faithful image seg-
mentation via induced matching of persistence barcodes. In: ICML. PMLR (2023) 3
40. Wang, F., Kapse, S., Liu, S., Prasanna, P., Chen, C.: Topotxr: a topological biomarker for
predicting treatment response in breast cancer. In: International Conference on Information
Processing in Medical Imaging. pp. 386–397. Springer (2021) 3
41. Wang, P., et al.: Automatic classification of breast cancer histopathological images based on
deep feature fusion. Biomedical Signal Processing and Control 65, 102341 (2021) 8
42. Wu, C., Wang, Y., Wang, F.: Deep learning for ovarian tumor classification with ultrasound
images. In: Advances in Multimedia Information Processing–PCM. Springer (2018) 2
43. Yadav, A., Ahmed, F., Daescu, O., Gedik, R., Coskunuzer, B.: Histopathological cancer de-
tection with topological signatures. In: IEEE BIBM. pp. 1610–1619. IEEE (2023) 3
44. Yadav, R.K., Singh, P., Kashtriya, P.: Diagnosis of breast cancer using machine learning
techniques-a survey. Procedia Computer Science 218, 1434–1443 (2023) 3
45. Zhou, X., et al.: A comprehensive review for breast histopathology image analysis using
classical and deep neural networks. IEEE Access 8, 90931–90956 (2020) 3
46. Zia, A., Khamis, A., Nichols, J., Hayder, Z., Rolland, V., Petersson, L.: Topological deep
learning: A review of an emerging paradigm. arXiv preprint arXiv:2302.03836 (2023) 3
TopOC: Topological Deep Learning for Ovarian and Breast Cancer Diagnosis
1
Appendix
A
Experimental Details
Hyperparameters.
For the TopOC-1 model, we trained an XGBoost model on the
datasets, employing specific hyperparameters and feature selection techniques. For XG-
Boost, parametric tuning involved setting the learning rate to 0.05, the maximum depth
to 5, the number of estimators to 300, the subsample to 0.9, and the colsample bytree
to 0.9. To increase the performance of our TopOC-1 model by removing correlated
features, we employed a feature selection method. We employed XGBoost as ML Clas-
sifier, and feature_importance, a built-in function in the XGBoost library, ranks features
with respect to their importance. Out of 400 features, we tried 50, 100, 200, and 400 best
features for our models Table 1. We observed the best performance with 200 features
and utilized this choice in our TopOC-1 model.
For the TopOC-CNN model, the model is configured with a set of well-defined
hyperparameters to optimize its performance. We use the Adam optimizer for its ef-
ficiency and adaptability. The loss function selected is categorical cross-entropy, suit-
able for multi-class classification tasks or binary cross-entropy for binary classification.
The batch size is set to 64, balancing computational efficiency and convergence speed.
The training process is conducted over 100 epochs, allowing sufficient iterations for
the model to learn from the data. We shared our code at the following link: https://
anonymous.4open.science/r/Ovarian-and-Breast-Cancer-Diagnosis-8F2C.
Performance Metrics.
We used a variety of metrics to evaluate the efficiency of our
models, including accuracy, balanced accuracy, precision, sensitivity (recall), speci-
ficity, and the F-1 score [21]. For multiclass evaluation in the UBC-OCEAN challenge,
the performance metric utilized was balanced accuracy, which is the macro average of
the recall obtained in each class. Therefore, for a balanced dataset, balanced accuracy
tends to be the same as accuracy. However, by giving equal importance to each class,
balanced accuracy is considered more suitable for unbalanced datasets [19].
Computational Complexity and Runtime.
PH calculation can be computationally de-
manding, especially in high-dimensional data scenarios [25]. However, when dealing
with image data, it exhibits notable efficiency. Specifically, for 2D images, the time
complexity of PH is approximately O(|P|r), where r is approximately 2.37, and |P|
represents the total number of pixels [24]. In simpler terms, the computational effort
required for PH increases almost quadratically with the image size. It’s important to
note that the remaining processes such as vectorization and ML steps are significantly
minor in terms of computational load when compared to the PH step.
Table 5: Further performance metrics for TopOC-1 model on BREAKHIS dataset for
binary classification.
Mag.
Accuracy
Sensitivity
Specificity
AUC
Precision
Recall
F1-Score
40x
90.82
97.76
76.77
96.18
89.50
97.76
93.44
100x
91.68
96.00
82.50
95.95
92.10
96.00
94.01
200x
91.05
96.53
80.00
94.95
90.69
96.53
93.52
400x
88.64
96.02
75.25
94.77
87.56
96.02
91.59
2
S. Fatema et al.
1400 
cc 
ec 
Cl) 
hgsc 
+-' 
lgsc 
a5 1200 
me 
C 
0 
E 1000 
0 
0 
"'C 800
Q)
Q) 
C 
C 600 
0 
0 
'+-
0 400 
I,.... 
Q) 
..c 
E 
::J 200 
z 
0 
 0
50
100
150
200
250
(a) Betti-0 (Gray)
1400 
a5 1200 
C 
0 a. 
E 1000 
0 
0 
 800 
Q) 
C 
§
600
0 
'+-
 400 
Q) 
..c E 
::J 
200
z 
0 
0                    50                     100                    150                   200                   250            
cc 
lgsc 
(b) CC vs. LGSC
cn 1000 
...... 
C 
Q) 
C 
0 
a.
800
E
0 
(_) 
"'O 
2 600 
t) 
Q) 
C 
C 
0 
o
400
0 
s.... 
Q) 
..c 
E 200 
z 
0 
0 
50 
100 
150 
200 
hgsc 
me 
250
(c) HGSC vs. MC
Fig. 4: In the left figure, we present the median curves and 40% confidence bands of Betti-0
(grayscale) curves for five classes from the UBC-OCEAN dataset. In the next two figures, we
display the same curves for two specific classes.
In our experiments, it took an average of 5 hours and 16 minutes to generate topo-
logical vectors for all color channels for the UBC-OCEAN dataset, and our TopOC-
CNN model on average trained for 11 hours and 55 minutes. For the BreaKHis dataset,
it took an average of 50 minutes to generate the vectors, and an average of 1 hour
and 2 minutes to train our TopOC-CNN model. All experiments were conducted using
high-performance computing clusters with the following SLURM script configuration:
partition=gpu-a100-small, nodes=1, and ntasks=1. Each node was equipped with 3x
NVIDIA A100 GPUs (40GB HBM2), 2x AMD EPYC 7763 64-core Processors, 128
total cores per node, and 256 GB of RAM.
B
Visualization and Interpretability
In Figures 4 and 5, we depict our topological vectors and their confidence bands for
each class. Using Betti curves for vectorization makes these figures highly interpretable.
Specifically, the x-axis represents color values t in the range [0, 255]. In Betti-0 curves,
the y-axis values β0(t) represent the count of connected components in the binary image
Xt (see Section 3.1). For Betti-1 curves, β1(t) represents the count of holes in the binary
image Xt.
For example, in Figure 4b, we observe that between grayscale values 100 < t <
120, the number of connected components in the binary images Xt of the CC class is
nearly triple that of the LGSC class. This indicates that the binary images of the CC
class are highly dispersed with numerous disconnected components compared to the
LGSC class. Similarly, in Figure 4c, between grayscale values 120 < t < 150, the
number of connected components in the binary images Xt of the HGSC class is almost
double that of the MC class.
C 
Q) 
1750 
§ 1500
C. E 
8 1250 
"'C -t 1000 
Q) 
C 
§
750
u
4-
0 
500 
Ii.... 
Q) 
..c 
E 250 
::s 
z 
0 
0                     50                   100                  150                 200                 250
Benign 
Malignant 
(a) Betti-0 (Gray)
1750 
 1500 
C 
0 
c.. 
E 1250 
0 u 
	 1000 
-1-J u 
OJ 
§
750
0 u o
500
!.... 
OJ 
..c 
E 250 
::s z 
0 
0                     50                   100                  150                 200                 250
Benign 
Malignant 
(b) Betti-0 (Green)
2000 
l/) 1500 
c.. 
0 
0 
4-
0 
w 1000 
..c E 
:J z 
500 
0 
0                 50                  100                150                200                 250       
Benign 
Malignant 
(c) Betti-1 (Green)
Fig. 5: Median curves and 40% confidence bands of our topological feature vectors for
each class for BREAKHIS dataset.
